var P;(function(n){var u=function(){function n(n){this.clusters=this.rebuildClusters(this.data=n)}return n.prototype.rebuildClusters=function(n){for(var i={},t=0;t<n.length;t++)i[n[t]]?i[n[t]]++:i[n[t]]=1;return i},n.prototype.given=function(n){return this.clusters[n]?this.clusters[this.data[n]]/this.data.length:0},n}(),t,r,i;n.Numerical=u,t=function(){function n(){this.keys={}}return n.prototype.getAll=function(){return this.keys},n.prototype.add=function(n,t){if(typeof t!="undefined")for(var i in t)this.add(i);return this.contains(n)||(this.keys[n]=null),this},n.prototype.contains=function(n){return n in this.keys},n}(),n.IngoneMe=t,r=function(){function n(n){this.meta={MembersProportionName:"$$$$Prop",MembersToIgnoreName:"$$$$Ingnore",RealValueName:"$$$$RealValue"},typeof n!="undefined"&&this.addMany(n)}return n.prototype.addMany=function(n){this.clusters=this.rebuildClusters(new i(n))},n.prototype.getClusters=function(){return this.clusters},n.prototype.rebuildClusters=function(n,r){var u=r,h,v,s,f,e,o,l,c,a;for(typeof r=="undefined"&&((u={})[this.meta.MembersToIgnoreName]=new t),h=n.getRawDataSet(),v=u[this.meta.MembersToIgnoreName].getAll(),s=0;s<h.length;s++)for(f in h[s])if(!u[this.meta.MembersToIgnoreName].contains(f)){if(e=h[s][f],typeof e=="object")continue;if(typeof u[f]=="undefined"&&((u[f]={})[this.meta.MembersProportionName]=0),u[f][this.meta.MembersProportionName]++,typeof u[f][e]!="undefined")if(e===u[f][e][this.meta.RealValueName])u[f][e][this.meta.MembersProportionName]++;else throw"The value '"+e+"' for the member '"+f+"' was already defined as a different type ("+typeof u[f][e][this.meta.RealValueName]+")";else(u[f][e]={})[this.meta.MembersProportionName]=1,u[f][e][this.meta.RealValueName]=e,u[f][e][this.meta.MembersToIgnoreName]=(new t).add(f,v)}for(o in u)if(!(o.indexOf("$$$$")===0)&&!u[this.meta.MembersToIgnoreName].contains(o)){l=u[o];for(c in l)c.indexOf("$$$$")===0||(a=n.getWhere(o,l[c][this.meta.RealValueName]),Object.prototype.toString.call(a)==="[object Array]"&&this.rebuildClusters(new i(a),u[o][c]))}return u},n.prototype.getChancesFor=function(n){var i=this.clusters,t,o,r,u;for(t in n)if(n[t]!==null)if(typeof i[t]!="undefined")if(typeof i[t][n[t]]!="undefined")if(i[t][n[t]][this.meta.RealValueName]===n[t])i=i[t][n[t]];else return{Data:{},Error:"Type mismatch for ('"+t+"'='"+n[t]+"')"};else return{Data:{},Error:"No records were found for the given filter ('"+t+"'='"+n[t]+"')"};else return{Data:null,Error:"Impossible to filter by unmaped feature '"+t+"'"};o={Data:{},Error:null};try{for(r in i)if(!(r.indexOf("$$$$")===0)){var s=null,f=-1,e=0;for(u in i[r])u.indexOf("$$$$")===0||(e++,(f===-1||i[r][u][this.meta.MembersProportionName]>f)&&(s=u,f=i[r][u][this.meta.MembersProportionName]));s!==null&&e>0&&(o.Data[r]={BestChance:s,Proportion:e===1?e:f/i[r][this.meta.MembersProportionName]})}}catch(h){throw h;}return o},n}(),n.Data=r,i=function(){function n(n){this.keys={},this.rawDataSet=n}return n.prototype.getAllIndexedKeys=function(){return this.keys},n.prototype.getRawDataSet=function(){return this.rawDataSet},n.prototype.getWhere=function(n,t){if(typeof t=="object")throw"Only 'plain' values are supported at the time";if(typeof this.keys[n]=="undefined"&&(this.keys[n]={}),typeof this.keys[n][t]=="undefined"){this.keys[n][t]=[];for(var i=0;i<this.rawDataSet.length;i++)typeof this.rawDataSet[i][n]!="undefined"&&this.rawDataSet[i][n]===t&&this.keys[n][t].push(this.rawDataSet[i])}return this.keys[n][t]},n}(),n.DynamicallyIndexedData=i})(P||(P={}));var F=function(){function n(){}return n.Y=function(n){return function(t){return n(function(n){return t(t)(n)})}(function(t){return n(function(n){return t(t)(n)})})},n}(),CancerData=function(){function n(){}return n}(),pData=new P.Data